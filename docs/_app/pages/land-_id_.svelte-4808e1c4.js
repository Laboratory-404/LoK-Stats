import{S as A,i as B,s as C,w as S,x as k,y as v,q as D,o as I,B as O,I as P,u as U,P as h}from"../chunks/vendor-ad1cfbc0.js";import{d as i}from"../chunks/stores-eb6a96cf.js";import{L as x,g as b}from"../chunks/Land-a1225893.js";function z(s){let o,n;return o=new x({props:{id:s[2],data:s[1],val:s[0],max:s[3]}}),{c(){S(o.$$.fragment)},l(t){k(o.$$.fragment,t)},m(t,a){v(o,t,a),n=!0},p(t,[a]){const f={};a&4&&(f.id=t[2]),a&2&&(f.data=t[1]),a&1&&(f.val=t[0]),o.$set(f)},i(t){n||(D(o.$$.fragment,t),n=!0)},o(t){I(o.$$.fragment,t),n=!1},d(t){O(o,t)}}}const J=async({params:s})=>({props:{params:s}});let l="2022-03-22",c="2022-03-28";function E(s,o,n){let t,a;P(s,i,p=>n(5,a=p));let{params:f}=o,w=[134223,134224,134225,133969,133968,133967,133711,133712,133713,133455,133456,133457,150949],u=0,L=w.length,j;return U(()=>{var p,q;if(Array.isArray(a.lands))if(a.lands.length===0)h(i,a.lands=[{start:l,end:c,data:{}}],a),a.lands.map((y,e)=>{y.start===l&&y.end===c&&w.map(async m=>{let r=await b(m,l,c).catch(g=>console.error(g)),d=await(r==null?void 0:r.json().catch(g=>console.error(g)));n(0,u++,u),typeof y.data=="undefined"&&h(i,a.lands[e].data={},a),h(i,a.lands[e].data[m]=d,a)})}),console.log("Loaded from server");else{let y=!1;a.lands.map(e=>{e.start===l&&e.end===c&&(y=!0)}),y?(a.lands.map((e,m)=>{e.start===l&&e.end===c&&(e.data&&Object.keys(e.data).length===0?(w.map(async r=>{let d=await b(r,l,c).catch(_=>console.error(_)),g=await(d==null?void 0:d.json().catch(_=>console.error(_)));n(0,u++,u),typeof e.data=="undefined"&&h(i,a.lands[m].data={},a),h(i,a.lands[m].data[r]=g,a)}),console.log("Loaded from server")):console.log("Loaded from cache"))}),n(0,u=L)):(a.lands.push({start:l,end:c,data:{}}),a.lands.map((e,m)=>{e.start===l&&e.end===c&&w.map(async r=>{let d=await b(r,l,c).catch(_=>console.error(_)),g=await(d==null?void 0:d.json().catch(_=>console.error(_)));typeof e.data=="undefined"&&h(i,a.lands[m].data={},a),h(i,a.lands[m].data[r]=g,a)})}),n(0,u=L),console.log("Loaded from server"))}n(1,j=(q=(p=a==null?void 0:a.lands[0])==null?void 0:p.data[t])==null?void 0:q.contribution)}),s.$$set=p=>{"params"in p&&n(4,f=p.params)},s.$$.update=()=>{s.$$.dirty&16&&n(2,t=f.id)},[u,j,t,L,f]}class K extends A{constructor(o){super();B(this,o,E,z,C,{params:4})}}export{K as default,J as load};
//# sourceMappingURL=land-_id_.svelte-4808e1c4.js.map
