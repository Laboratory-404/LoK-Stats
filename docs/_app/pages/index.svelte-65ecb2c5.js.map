{"version":3,"file":"index.svelte-65ecb2c5.js","sources":["../../../../runtime/app/navigation.js","../../../../../src/routes/index.svelte"],"sourcesContent":["import { client } from '../client/singletons.js';\n\n/**\n * @param {string} name\n */\nfunction guard(name) {\n\treturn () => {\n\t\tthrow new Error(`Cannot call ${name}(...) on the server`);\n\t};\n}\n\nconst ssr = import.meta.env.SSR;\n\nconst disableScrollHandling = ssr\n\t? guard('disableScrollHandling')\n\t: client.disable_scroll_handling;\nconst goto = ssr ? guard('goto') : client.goto;\nconst invalidate = ssr ? guard('invalidate') : client.invalidate;\nconst prefetch = ssr ? guard('prefetch') : client.prefetch;\nconst prefetchRoutes = ssr ? guard('prefetchRoutes') : client.prefetch_routes;\nconst beforeNavigate = ssr ? () => {} : client.before_navigate;\nconst afterNavigate = ssr ? () => {} : client.after_navigate;\n\nexport { afterNavigate, beforeNavigate, disableScrollHandling, goto, invalidate, prefetch, prefetchRoutes };\n","<!--suppress JSUnresolvedVariable -->\n\n<script>\n\timport { onMount } from 'svelte'\n\timport { goto } from '$app/navigation'\n\timport { db } from '$lib/stores'\n\timport { getData, getLands } from '$lib/api'\n\timport Box from '$lib/components/Box.svelte'\n\n\tlet loading = false\n\tlet wallet = $db.wallet\n\tlet clear = $db.clear\n\tlet week = $db.week\n\tlet start = $db.start\n\tlet end = $db.end\n\tlet lands = $db.lands\n\n\tif (lands && $db?.blacklisted && Array.isArray(lands) && Array.isArray($db?.blacklisted)) {\n\t\tlands = lands.filter(l => !$db.blacklisted.includes(l))\n\t}\n\n\t$db.selected = '0'\n\n\tonMount(async () => {\n\t\tif (!clear) {\n\t\t\twindow.localStorage.removeItem('db')\n\t\t\t// noinspection JSUndeclaredVariable\n\t\t\t$db = {\n\t\t\t\tclear: true,\n\t\t\t\twallet: '0xB00Fc62B8B22243779A35effb8B98f18193daa09',\n\t\t\t\tcontract: '0x6CC462bc49ceCFE943Bc4F477b23b92906e6074F',\n\t\t\t\tlands: ['134223', '134224', '134225', '133969', '133968', '133967', '133711', '133712', '133713', '133455', '133456', '133457'],\n\t\t\t\tblacklisted: ['150949'],\n\t\t\t\tstart: '2022-03-21',\n\t\t\t\tend: '2022-03-27',\n\t\t\t\tdata: [],\n\t\t\t\tselected: '0'\n\t\t\t}\n\t\t}\n\n\t\tawait reload()\n\t})\n\n\tconst parseDates = range => {\n\t\tlet year = parseInt(range.slice(0, 4), 10)\n\t\tlet week = parseInt(range.slice(6), 10)\n\n\t\tlet day = (1 + (week - 1) * 7)\n\n\t\tlet dayOffset = new Date(year, 0, 1).getDay()\n\n\t\tdayOffset--\n\t\tdayOffset--\n\n\t\tlet days = []\n\n\t\tfor (let i = 0; i < 7; i++) {\n\t\t\tdays.push(new Date(year, 0, day - dayOffset + i).toISOString().split('T')[0])\n\t\t}\n\n\t\treturn days\n\t}\n\n\tconst reload = async () => {\n\t\tloading = true\n\t\tlands = await getLands()\n\t\tloading = false\n\n\t\tlands = lands.filter(l => !$db.blacklisted.includes(l))\n\n\t\tgetData(lands, start, end)\n\t}\n\n\tconst onChange = async () => {\n\t\tlet dates = parseDates(week)\n\n\t\t$db.wallet = wallet\n\t\t$db.week = week\n\t\t$db.start = dates[0]\n\t\t$db.end = dates[dates.length - 1]\n\t\tstart = $db.start\n\t\tend = $db.end\n\t\t$db.data = []\n\t\t$db.lands = []\n\n\t\tawait reload()\n\t}\n</script>\n\n<Box style=\"height: 80vh;\">\n\t<div>\n\t\t<label>Wallet Address <input class=\"wallet\" bind:value={wallet} on:change={onChange} /></label><br /><br />\n\t\t<label>Week <input type=\"week\" bind:value={week} on:change={onChange} /></label><br /><br />\n\t\tStart Date {start}<br />End Date {end}\n\t</div>\n\n\t<div class=\"lands\">\n\t\t{#if loading}\n\t\t\t<svg class=\"center\" width=\"200px\" height=\"200px\" viewBox=\"0 0 100 100\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t<g transform=\"translate(50 50)\">\n\t\t\t\t\t<g transform=\"translate(-19 -19) scale(0.6)\">\n\t\t\t\t\t\t<g>\n\t\t\t\t\t\t\t<animateTransform attributeName=\"transform\" type=\"rotate\" values=\"0;45\" keyTimes=\"0;1\" dur=\"0.2s\" begin=\"0s\" repeatCount=\"indefinite\"></animateTransform>\n\t\t\t\t\t\t\t<path d=\"M31.359972760794346 21.46047782418268 L38.431040572659825 28.531545636048154 L28.531545636048154 38.431040572659825 L21.46047782418268 31.359972760794346 A38 38 0 0 1 7.0000000000000036 37.3496987939662 L7.0000000000000036 37.3496987939662 L7.000000000000004 47.3496987939662 L-6.999999999999999 47.3496987939662 L-7 37.3496987939662 A38 38 0 0 1 -21.46047782418268 31.35997276079435 L-21.46047782418268 31.35997276079435 L-28.531545636048154 38.431040572659825 L-38.43104057265982 28.531545636048158 L-31.359972760794346 21.460477824182682 A38 38 0 0 1 -37.3496987939662 7.000000000000007 L-37.3496987939662 7.000000000000007 L-47.3496987939662 7.000000000000008 L-47.3496987939662 -6.9999999999999964 L-37.3496987939662 -6.999999999999997 A38 38 0 0 1 -31.35997276079435 -21.460477824182675 L-31.35997276079435 -21.460477824182675 L-38.431040572659825 -28.531545636048147 L-28.53154563604818 -38.4310405726598 L-21.4604778241827 -31.35997276079433 A38 38 0 0 1 -6.999999999999992 -37.3496987939662 L-6.999999999999992 -37.3496987939662 L-6.999999999999994 -47.3496987939662 L6.999999999999977 -47.3496987939662 L6.999999999999979 -37.3496987939662 A38 38 0 0 1 21.460477824182686 -31.359972760794342 L21.460477824182686 -31.359972760794342 L28.531545636048158 -38.43104057265982 L38.4310405726598 -28.53154563604818 L31.35997276079433 -21.4604778241827 A38 38 0 0 1 37.3496987939662 -6.999999999999995 L37.3496987939662 -6.999999999999995 L47.3496987939662 -6.999999999999997 L47.349698793966205 6.999999999999973 L37.349698793966205 6.999999999999976 A38 38 0 0 1 31.359972760794346 21.460477824182686 M0 -23A23 23 0 1 0 0 23 A23 23 0 1 0 0 -23\" fill=\"#cca300\"></path>\n\t\t\t\t\t\t</g>\n\t\t\t\t\t</g>\n\n\t\t\t\t\t<g transform=\"translate(19 19) scale(0.6)\">\n\t\t\t\t\t\t<g>\n\t\t\t\t\t\t\t<animateTransform attributeName=\"transform\" type=\"rotate\" values=\"45;0\" keyTimes=\"0;1\" dur=\"0.2s\" begin=\"-0.1s\" repeatCount=\"indefinite\"></animateTransform>\n\t\t\t\t\t\t\t<path d=\"M-31.35997276079435 -21.460477824182675 L-38.431040572659825 -28.531545636048147 L-28.53154563604818 -38.4310405726598 L-21.4604778241827 -31.35997276079433 A38 38 0 0 1 -6.999999999999992 -37.3496987939662 L-6.999999999999992 -37.3496987939662 L-6.999999999999994 -47.3496987939662 L6.999999999999977 -47.3496987939662 L6.999999999999979 -37.3496987939662 A38 38 0 0 1 21.460477824182686 -31.359972760794342 L21.460477824182686 -31.359972760794342 L28.531545636048158 -38.43104057265982 L38.4310405726598 -28.53154563604818 L31.35997276079433 -21.4604778241827 A38 38 0 0 1 37.3496987939662 -6.999999999999995 L37.3496987939662 -6.999999999999995 L47.3496987939662 -6.999999999999997 L47.349698793966205 6.999999999999973 L37.349698793966205 6.999999999999976 A38 38 0 0 1 31.359972760794346 21.460477824182686 L31.359972760794346 21.460477824182686 L38.431040572659825 28.531545636048158 L28.53154563604818 38.4310405726598 L21.460477824182703 31.35997276079433 A38 38 0 0 1 6.9999999999999964 37.3496987939662 L6.9999999999999964 37.3496987939662 L6.999999999999995 47.3496987939662 L-7.000000000000009 47.3496987939662 L-7.000000000000007 37.3496987939662 A38 38 0 0 1 -21.46047782418263 31.359972760794385 L-21.46047782418263 31.359972760794385 L-28.531545636048097 38.43104057265987 L-38.431040572659796 28.531545636048186 L-31.35997276079433 21.460477824182703 A38 38 0 0 1 -37.34969879396619 7.000000000000032 L-37.34969879396619 7.000000000000032 L-47.34969879396619 7.0000000000000355 L-47.3496987939662 -7.000000000000002 L-37.3496987939662 -7.000000000000005 A38 38 0 0 1 -31.359972760794346 -21.46047782418268 M0 -23A23 23 0 1 0 0 23 A23 23 0 1 0 0 -23\" fill=\"#cca300\"></path>\n\t\t\t\t\t\t</g>\n\t\t\t\t\t</g>\n\t\t\t\t</g>\n\t\t\t</svg>\n\t\t{:else}\n\t\t\t{#if Array.isArray(lands) && lands.length > 0}\n\t\t\t\t{#each lands as land}\n\t\t\t\t\t<button class=\"land\" on:click={goto(`/land-${land}`, { replaceState: true })}>Land {land}</button>\n\t\t\t\t{/each}\n\t\t\t{:else}\n\t\t\t\t<div class=\"center\">No lands found</div>\n\t\t\t{/if}\n\t\t{/if}\n\t</div>\n</Box>\n\n<style global lang=\"scss\">\n\t.box {\n\t\t.progress {\n\t\t\twidth: 100%;\n\t\t}\n\n\t\t.center {\n\t\t\tdisplay: block;\n\t\t\tposition: absolute;\n\t\t\ttop: 50%;\n\t\t\tleft: 50%;\n\t\t\tmargin: auto;\n\t\t\ttransform: translate(-50%, -50%);\n\t\t}\n\n\t\t.lands {\n\t\t\tposition: absolute;\n\t\t\tbottom: 20px;\n\t\t\twidth: calc(100% - 40px);\n\t\t\theight: calc(100% - 240px);\n\t\t\toverflow-y: auto;\n\n\t\t\t.land {\n\t\t\t\tborder: 2px solid var(--accent-color);\n\t\t\t\tborder-radius: 10px;\n\t\t\t\tpadding: 10px;\n\t\t\t\tmargin-right: 5px;\n\t\t\t\tmargin-top: 5px;\n\t\t\t}\n\t\t}\n\n\t\t.wallet {\n\t\t\twidth: 430px;\n\t\t\theight: 42px;\n\t\t\tpadding: 10px;\n\t\t}\n\t}\n</style>"],"names":[],"mappings":"qcAeG,EAAO,wBACV,KAAM,GAA6B,EAAO,KACK,EAAO,WACX,EAAO,SACK,EAAO,gBACtB,EAAO,gBACR,EAAO,wHCoGtB,0EAAA,2EAApB,4DAJO,0BAAL,iNAAK,uBAAL,qIAAA,2wJAnBH,SACC,OACC,OACC,OACC,OACA,OAIF,OACC,OACC,OACA,oDAQkF,4CAAN,2EAAA,yEAA9E,uDAA+B,WAAc,SAAU,aAAc,OAAtC,WAAc,SAAU,aAAc,4DAAe,gJArBlF,uBAmBC,OAAM,QAAQ,OAAU,KAAM,OAAS,yEAzBtC,2EACA,8CAAoF;AAAA,oBAC/E,oBAAY,iBAAU,0GAF3B,kIACA,mFAAoF;AAAA,sBAC/E,2BAAY,mBAAU,qKAHnC,SACC,cAAsB,WAAkC,MAAuC,OAAM,cACrG,cAAY,WAA+B,MAAqC,OAAM,qBACpE,8BAGnB,2DAL4E,qCACf,oCADJ,UAAA,eACb,eAC/B,gBAAsB,ufApF/B,GAAU,GACV,EAAS,EAAI,OACb,EAAQ,EAAI,MACZ,EAAO,EAAI,KACX,EAAQ,EAAI,MACZ,EAAM,EAAI,IACV,EAAQ,EAAI,MAEZ,GAAS,kBAAK,cAAe,MAAM,QAAQ,IAAU,MAAM,QAAQ,iBAAK,cAC3E,GAAQ,EAAM,OAAO,IAAM,EAAI,YAAY,SAAS,SAGrD,EAAI,SAAW,OAEf,aACM,GACJ,QAAO,aAAa,WAAW,UAE/B,GACC,MAAO,GACP,OAAQ,6CACR,SAAU,6CACV,OAAQ,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,UACtH,aAAc,UACd,MAAO,aACP,IAAK,aACL,QACA,SAAU,cAIN,YAGD,GAAa,OACd,GAAO,SAAS,EAAM,MAAM,EAAG,GAAI,IACnC,EAAO,SAAS,EAAM,MAAM,GAAI,IAEhC,EAAO,EAAK,GAAO,GAAK,EAExB,KAAgB,MAAK,EAAM,EAAG,GAAG,SAErC,IACA,OAEI,aAEK,GAAI,EAAG,EAAI,EAAG,IACtB,EAAK,QAAS,MAAK,EAAM,EAAG,EAAM,EAAY,GAAG,cAAc,MAAM,KAAK,UAGpE,IAGF,gBACL,EAAU,QACV,OAAc,WACd,EAAU,QAEV,EAAQ,EAAM,OAAO,IAAM,EAAI,YAAY,SAAS,KAEpD,GAAQ,EAAO,EAAO,IAGjB,eACD,GAAQ,EAAW,OAEvB,EAAI,OAAS,SACb,EAAI,KAAO,SACX,EAAI,MAAQ,EAAM,UAClB,EAAI,IAAM,EAAM,EAAM,OAAS,UAC/B,EAAQ,EAAI,WACZ,EAAM,EAAI,SACV,EAAI,eACJ,EAAI,iBAEE,mBAMkD,iCACb"}