{"version":3,"file":"index.svelte-354834d4.js","sources":["../../../../../src/routes/index.svelte"],"sourcesContent":["<!--suppress JSUnresolvedVariable -->\n\n<script>\n\timport Saos from 'saos'\n\timport { goto } from '$app/navigation'\n\timport { db } from '$lib/stores'\n\timport { getContributions } from '$lib/api'\n\timport Box from '$lib/components/Box.svelte'\n\n\t// noinspection JSUnusedGlobalSymbols\n\tlet owner = '0xB00Fc62B8B22243779A35effb8B98f18193daa09'\n\t// noinspection JSUnusedLocalSymbols\n\tlet lands = [134223, 134224, 134225, 133969, 133968, 133967, 133711, 133712, 133713, 133455, 133456, 133457, 150949]\n\tlet start = '2022-03-22'\n\tlet end = '2022-03-28'\n\n\tlet id = 0\n\tlet val = 0\n\tlet max = lands.length\n\tlet data\n\tlet rows\n\n\tif (Array.isArray($db.lands))  {\n\t\tif ($db.lands.length === 0) {\n\t\t\t$db.lands = [{\n\t\t\t\tstart,\n\t\t\t\tend,\n\t\t\t\tdata: {}\n\t\t\t}]\n\n\t\t\t$db.lands.map((p, i) => {\n\t\t\t\tif (p.start === start && p.end === end) {\n\t\t\t\t\tlands.map(async land => {\n\t\t\t\t\t\tlet contributions_api = await getContributions(land, start, end).catch(error => console.error(error))\n\t\t\t\t\t\t// noinspection UnnecessaryLocalVariableJS\n\t\t\t\t\t\tlet contributions_data = await contributions_api?.json().catch(error => console.error(error))\n\n\t\t\t\t\t\tval++\n\n\t\t\t\t\t\tif (typeof p.data === 'undefined') {\n\t\t\t\t\t\t\t$db.lands[i].data = {}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t$db.lands[i].data[land] = contributions_data\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\n\t\t\tconsole.log('Loaded from server')\n\t\t} else {\n\t\t\tlet found = false\n\n\t\t\t$db.lands.map(p => {\n\t\t\t\tif (p.start === start && p.end === end) {\n\t\t\t\t\tfound = true\n\t\t\t\t}\n\t\t\t})\n\n\t\t\tif (found) {\n\t\t\t\t$db.lands.map((p, i) => {\n\t\t\t\t\tif (p.start === start && p.end === end) {\n\t\t\t\t\t\tif (p.data && Object.keys(p.data).length === 0) {\n\t\t\t\t\t\t\tlands.map(async land => {\n\t\t\t\t\t\t\t\tlet contributions_api = await getContributions(land, start, end).catch(error => console.error(error))\n\t\t\t\t\t\t\t\t// noinspection UnnecessaryLocalVariableJS\n\t\t\t\t\t\t\t\tlet contributions_data = await contributions_api?.json().catch(error => console.error(error))\n\n\t\t\t\t\t\t\t\tval++\n\n\t\t\t\t\t\t\t\tif (typeof p.data === 'undefined') {\n\t\t\t\t\t\t\t\t\t$db.lands[i].data = {}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t$db.lands[i].data[land] = contributions_data\n\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t\tconsole.log('Loaded from server')\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconsole.log('Loaded from cache')\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\n\t\t\t\tval = max\n\t\t\t} else {\n\t\t\t\t$db.lands.push({\n\t\t\t\t\tstart,\n\t\t\t\t\tend,\n\t\t\t\t\tdata: {}\n\t\t\t\t})\n\n\t\t\t\t$db.lands.map((p, i) => {\n\t\t\t\t\tif (p.start === start && p.end === end) {\n\t\t\t\t\t\tlands.map(async land => {\n\t\t\t\t\t\t\tlet contributions_api = await getContributions(land, start, end).catch(error => console.error(error))\n\t\t\t\t\t\t\t// noinspection UnnecessaryLocalVariableJS\n\t\t\t\t\t\t\tlet contributions_data = await contributions_api?.json().catch(error => console.error(error))\n\n\t\t\t\t\t\t\tif (typeof p.data === 'undefined') {\n\t\t\t\t\t\t\t\t$db.lands[i].data = {}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t$db.lands[i].data[land] = contributions_data\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\n\t\t\t\tval = max\n\n\t\t\t\tconsole.log('Loaded from server')\n\t\t\t}\n\t\t}\n\t}\n\n\t$db.selected = 133455 + ''\n\n\tgoto(`/land-${$db.selected}`, { replaceState: true })\n</script>\n\n<Box style=\"height: 80vh;\">\n\t<progress style=\"width: 100%;\" value={val} max={max}></progress>\n\t<svg style=\"display: block; position: absolute; top: 50%; left: 50%; margin: auto; transform: translate(-50%, -50%);\" width=\"200px\" height=\"200px\" viewBox=\"0 0 100 100\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<g transform=\"translate(50 50)\">\n\t\t\t<g transform=\"translate(-19 -19) scale(0.6)\">\n\t\t\t\t<g>\n\t\t\t\t\t<animateTransform attributeName=\"transform\" type=\"rotate\" values=\"0;45\" keyTimes=\"0;1\" dur=\"0.2s\" begin=\"0s\" repeatCount=\"indefinite\"></animateTransform>\n\t\t\t\t\t<path d=\"M31.359972760794346 21.46047782418268 L38.431040572659825 28.531545636048154 L28.531545636048154 38.431040572659825 L21.46047782418268 31.359972760794346 A38 38 0 0 1 7.0000000000000036 37.3496987939662 L7.0000000000000036 37.3496987939662 L7.000000000000004 47.3496987939662 L-6.999999999999999 47.3496987939662 L-7 37.3496987939662 A38 38 0 0 1 -21.46047782418268 31.35997276079435 L-21.46047782418268 31.35997276079435 L-28.531545636048154 38.431040572659825 L-38.43104057265982 28.531545636048158 L-31.359972760794346 21.460477824182682 A38 38 0 0 1 -37.3496987939662 7.000000000000007 L-37.3496987939662 7.000000000000007 L-47.3496987939662 7.000000000000008 L-47.3496987939662 -6.9999999999999964 L-37.3496987939662 -6.999999999999997 A38 38 0 0 1 -31.35997276079435 -21.460477824182675 L-31.35997276079435 -21.460477824182675 L-38.431040572659825 -28.531545636048147 L-28.53154563604818 -38.4310405726598 L-21.4604778241827 -31.35997276079433 A38 38 0 0 1 -6.999999999999992 -37.3496987939662 L-6.999999999999992 -37.3496987939662 L-6.999999999999994 -47.3496987939662 L6.999999999999977 -47.3496987939662 L6.999999999999979 -37.3496987939662 A38 38 0 0 1 21.460477824182686 -31.359972760794342 L21.460477824182686 -31.359972760794342 L28.531545636048158 -38.43104057265982 L38.4310405726598 -28.53154563604818 L31.35997276079433 -21.4604778241827 A38 38 0 0 1 37.3496987939662 -6.999999999999995 L37.3496987939662 -6.999999999999995 L47.3496987939662 -6.999999999999997 L47.349698793966205 6.999999999999973 L37.349698793966205 6.999999999999976 A38 38 0 0 1 31.359972760794346 21.460477824182686 M0 -23A23 23 0 1 0 0 23 A23 23 0 1 0 0 -23\" fill=\"#cca300\"></path>\n\t\t\t\t</g>\n\t\t\t</g>\n\n\t\t\t<g transform=\"translate(19 19) scale(0.6)\">\n\t\t\t\t<g>\n\t\t\t\t\t<animateTransform attributeName=\"transform\" type=\"rotate\" values=\"45;0\" keyTimes=\"0;1\" dur=\"0.2s\" begin=\"-0.1s\" repeatCount=\"indefinite\"></animateTransform>\n\t\t\t\t\t<path d=\"M-31.35997276079435 -21.460477824182675 L-38.431040572659825 -28.531545636048147 L-28.53154563604818 -38.4310405726598 L-21.4604778241827 -31.35997276079433 A38 38 0 0 1 -6.999999999999992 -37.3496987939662 L-6.999999999999992 -37.3496987939662 L-6.999999999999994 -47.3496987939662 L6.999999999999977 -47.3496987939662 L6.999999999999979 -37.3496987939662 A38 38 0 0 1 21.460477824182686 -31.359972760794342 L21.460477824182686 -31.359972760794342 L28.531545636048158 -38.43104057265982 L38.4310405726598 -28.53154563604818 L31.35997276079433 -21.4604778241827 A38 38 0 0 1 37.3496987939662 -6.999999999999995 L37.3496987939662 -6.999999999999995 L47.3496987939662 -6.999999999999997 L47.349698793966205 6.999999999999973 L37.349698793966205 6.999999999999976 A38 38 0 0 1 31.359972760794346 21.460477824182686 L31.359972760794346 21.460477824182686 L38.431040572659825 28.531545636048158 L28.53154563604818 38.4310405726598 L21.460477824182703 31.35997276079433 A38 38 0 0 1 6.9999999999999964 37.3496987939662 L6.9999999999999964 37.3496987939662 L6.999999999999995 47.3496987939662 L-7.000000000000009 47.3496987939662 L-7.000000000000007 37.3496987939662 A38 38 0 0 1 -21.46047782418263 31.359972760794385 L-21.46047782418263 31.359972760794385 L-28.531545636048097 38.43104057265987 L-38.431040572659796 28.531545636048186 L-31.35997276079433 21.460477824182703 A38 38 0 0 1 -37.34969879396619 7.000000000000032 L-37.34969879396619 7.000000000000032 L-47.34969879396619 7.0000000000000355 L-47.3496987939662 -7.000000000000002 L-37.3496987939662 -7.000000000000005 A38 38 0 0 1 -31.359972760794346 -21.46047782418268 M0 -23A23 23 0 1 0 0 23 A23 23 0 1 0 0 -23\" fill=\"#cca300\"></path>\n\t\t\t\t</g>\n\t\t\t</g>\n\t\t</g>\n\t</svg>\n</Box>"],"names":[],"mappings":"g1CAwHuC,eAAU,whIAAhD,kBACA,SACC,OACC,OACC,OACC,OACA,OAIF,OACC,OACC,OACA,6BAbkC,2WA3GlC,GAAQ,aACR,EAAM,2DAFN,IAAS,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,QAKzG,EAAM,EACN,EAAM,EAAM,UAIZ,MAAM,QAAQ,EAAI,UACjB,EAAI,MAAM,SAAW,MACxB,EAAI,QACH,QACA,MACA,aAGD,EAAI,MAAM,KAAK,EAAG,KACb,EAAE,QAAU,GAAS,EAAE,MAAQ,GAClC,EAAM,SAAU,QACX,QAA0B,GAAiB,EAAM,EAAO,GAAK,MAAM,GAAS,QAAQ,MAAM,IAE1F,OAA2B,kBAAmB,OAAO,MAAM,GAAS,QAAQ,MAAM,SAEtF,aAEW,GAAE,MAAS,iBACrB,EAAI,MAAM,GAAG,eAGd,EAAI,MAAM,GAAG,KAAK,GAAQ,SAK7B,QAAQ,IAAI,8BAER,GAAQ,GAEZ,EAAI,MAAM,IAAI,IACT,EAAE,QAAU,GAAS,EAAE,MAAQ,GAClC,GAAQ,MAIN,EACH,GAAI,MAAM,KAAK,EAAG,KACb,EAAE,QAAU,GAAS,EAAE,MAAQ,IAC9B,EAAE,MAAQ,OAAO,KAAK,EAAE,MAAM,SAAW,EAC5C,GAAM,SAAU,QACX,QAA0B,GAAiB,EAAM,EAAO,GAAK,MAAM,GAAS,QAAQ,MAAM,IAE1F,OAA2B,kBAAmB,OAAO,MAAM,GAAS,QAAQ,MAAM,SAEtF,aAEW,GAAE,MAAS,iBACrB,EAAI,MAAM,GAAG,eAGd,EAAI,MAAM,GAAG,KAAK,GAAQ,OAG3B,QAAQ,IAAI,uBAEZ,QAAQ,IAAI,wBAKf,EAAM,GAEN,GAAI,MAAM,MACT,QACA,MACA,UAGD,EAAI,MAAM,KAAK,EAAG,KACb,EAAE,QAAU,GAAS,EAAE,MAAQ,GAClC,EAAM,SAAU,QACX,QAA0B,GAAiB,EAAM,EAAO,GAAK,MAAM,GAAS,QAAQ,MAAM,IAE1F,OAA2B,kBAAmB,OAAO,MAAM,GAAS,QAAQ,MAAM,WAE3E,GAAE,MAAS,iBACrB,EAAI,MAAM,GAAG,eAGd,EAAI,MAAM,GAAG,KAAK,GAAQ,SAK7B,EAAM,EAEN,QAAQ,IAAI,kCAKf,EAAI,SAAW,OAAS,MAExB,WAAc,EAAI,YAAc,aAAc"}