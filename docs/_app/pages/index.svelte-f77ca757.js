import{S as b,i as v,s as j,w as $,x as q,y as x,q as A,o as C,B as S,I as k,P as _,u as B}from"../chunks/vendor-ad1cfbc0.js";import{d as m}from"../chunks/stores-eb6a96cf.js";import{L as I,g as w}from"../chunks/Land-a1225893.js";function O(h){let n,o;return n=new I({props:{id:P,data:h[1],val:h[0],max:h[2]}}),{c(){$(n.$$.fragment)},l(e){q(n.$$.fragment,e)},m(e,a){x(n,e,a),o=!0},p(e,[a]){const f={};a&2&&(f.data=e[1]),a&1&&(f.val=e[0]),n.$set(f)},i(e){o||(A(n.$$.fragment,e),o=!0)},o(e){C(n.$$.fragment,e),o=!1},d(e){S(n,e)}}}let d="2022-03-22",c="2022-03-28",P=0;function R(h,n,o){let e,a;k(h,m,s=>o(4,a=s));let f=[134223,134224,134225,133969,133968,133967,133711,133712,133713,133455,133456,133457,150949],u=0,y=f.length,L;if(Array.isArray(a.lands))if(a.lands.length===0)_(m,a.lands=[{start:d,end:c,data:{}}],a),a.lands.map((s,t)=>{s.start===d&&s.end===c&&f.map(async i=>{let r=await w(i,d,c).catch(p=>console.error(p)),l=await(r==null?void 0:r.json().catch(p=>console.error(p)));o(0,u++,u),typeof s.data=="undefined"&&_(m,a.lands[t].data={},a),_(m,a.lands[t].data[i]=l,a)})}),console.log("Loaded from server");else{let s=!1;a.lands.map(t=>{t.start===d&&t.end===c&&(s=!0)}),s?(a.lands.map((t,i)=>{t.start===d&&t.end===c&&(t.data&&Object.keys(t.data).length===0?(f.map(async r=>{let l=await w(r,d,c).catch(g=>console.error(g)),p=await(l==null?void 0:l.json().catch(g=>console.error(g)));o(0,u++,u),typeof t.data=="undefined"&&_(m,a.lands[i].data={},a),_(m,a.lands[i].data[r]=p,a)}),console.log("Loaded from server")):console.log("Loaded from cache"))}),u=y):(a.lands.push({start:d,end:c,data:{}}),a.lands.map((t,i)=>{t.start===d&&t.end===c&&f.map(async r=>{let l=await w(r,d,c).catch(g=>console.error(g)),p=await(l==null?void 0:l.json().catch(g=>console.error(g)));typeof t.data=="undefined"&&_(m,a.lands[i].data={},a),_(m,a.lands[i].data[r]=p,a)})}),u=y,console.log("Loaded from server"))}return B(()=>{var s,t;o(1,L=(t=(s=a==null?void 0:a.lands[0])==null?void 0:s.data[e])==null?void 0:t.contribution)}),e=134223,[u,L,y]}class E extends b{constructor(n){super();v(this,n,R,O,j,{})}}export{E as default};
//# sourceMappingURL=index.svelte-f77ca757.js.map
